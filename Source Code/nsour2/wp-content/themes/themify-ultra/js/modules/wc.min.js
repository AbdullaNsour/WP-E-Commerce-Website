(($,c,e,n)=>{'use strict';if(c.body[0].classList.contains('slide-cart')){const t=document.querySelectorAll('a[href="#slide-cart"]');0<t.length&&c.sideMenu(t,{close:'#cart-icon-close',beforeShow(){c.LoadCss(e.theme_url+'/styles/wc/modules/basket.css',e.theme_v)}})}let d=!1;const o=c.body[0].querySelectorAll('#headerwrap .icon-shopping-cart');if(c.body.on('added_to_cart removed_from_cart',function(e){const t=$('.cart-icon');if(t.hasClass('empty-cart')&&('added_to_cart'===e.type?t.removeClass('empty-cart'):parseInt($('.cart-icon-link span').text())<=0&&t.addClass('empty-cart')),'added_to_cart'===e.type){for(let e=o.length-1;-1<e;--e)o[e].classList.remove('tf_loader');if(!1===d&&n.ajaxCartSeconds){d=!0;let o=parseInt(n.ajaxCartSeconds);const a=document.querySelector(c.isTouch?'#mobile-menu .cart-icon-link':'.header-icons .cart-icon-link');if(null!==a){const s=a.getAttribute('href'),r=document.getElementById(s.replace('#',''));null!==r&&(c.on('sidemenushow.themify',function(e,t,a){s===e&&setTimeout(()=>{$(r).is(':hover')?r.addEventListener('mouseleave',function(){a.hidePanel(),c.body[0].classList.remove('tf_auto_cart_open')},{once:!0,passive:!0}):(a.hidePanel(),c.body[0].classList.remove('tf_auto_cart_open')),d=!1},o)},!0),c.body[0].classList.add('tf_auto_cart_open'),setTimeout(()=>{a.click()},100))}}}}).on('click','.remove-item-js',function(e){e.preventDefault();const o=$(this),t={action:'theme_delete_cart',remove_item:o.attr('data-product-key')},s=$('.ajax_add_to_cart'),r=o.parent().find('.product-title a').attr('href');o.removeClass('tf_close').addClass('tf_loader'),$.post(woocommerce_params.ajax_url,t,function(e){const t=e.fragments,a=e.cart_hash;0===o.parent().find('.added_to_cart').length&&o.addClass('added'),t&&($.each(t,function(e,t){$(e).addClass('updating').replaceWith(t)}),$(t['#shopdock-ultra']).find('.cart-total').length||$('#cart-icon-close').trigger('click')),s.length&&s.each(function(){$(this).hasClass('added')&&$(this).closest('.post-content').find('[href="'+r+'"]').length&&$(this).removeClass('added').siblings('.added_to_cart').remove()}),c.body.triggerHandler('removed_from_cart',[t,a]),o.removeClass('tf_loader').addClass('tf_close')})}).on('adding_to_cart',function(){for(let e=o.length-1;-1<e;--e)o[e].className+=' tf_loader'}),'undefined'!=typeof wc_add_to_cart_params&&c.body.on('click','.remove_from_cart_button',function(e){e.preventDefault(),this.classList.remove('tf_close'),this.classList.add('tf_loader')}),n.ajaxSingleCart){const a=document.querySelector('form.cart');a&&a.addEventListener('submit',function(e){if(null===this.closest('.product-type-external')){if(-1<window.location.search.indexOf('switch-subscription')||this.classList.contains('auction_form'))return this;e.preventDefault();const t=new FormData(this),a=this.getElementsByClassName('single_add_to_cart_button')[0],o=this.querySelector('[name="add-to-cart"]');o&&('INPUT'!==o.tagName&&t.append('add-to-cart',o.value),a&&(a.classList.remove('added'),a.classList.add('loading')),c.body.triggerHandler('adding_to_cart',[this.querySelector('[type="submit"]'),t]),fetch(woocommerce_params.wc_ajax_url.toString().replace('%%endpoint%%','theme_add_to_cart'),{method:'POST',headers:new Headers({Accept:'application/json','X-Requested-With':'XMLHttpRequest'}),body:t}).then(e=>e.redirected||e.json()).then(e=>{if(e)if(n.redirect)window.location.href=n.redirect;else{const o=e.fragments,t=e.cart_hash;if(o){const s=Object.keys(o);let a=null;for(let t=s.length-1;-1<t;t--)for(let e=(a=document.querySelectorAll(s[t])).length-1;-1<e;e--)a[e].className+=' updating',a[e].outerHTML=o[s[t]]}a&&(a.classList.remove('loading'),a.classList.add('added')),c.body.triggerHandler('added_to_cart',[o,t])}}))}})}})(jQuery,Themify,themify_vars,themifyScript);